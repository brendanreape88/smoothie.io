(this["webpackJsonpsmoothie-app"]=this["webpackJsonpsmoothie-app"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},22:function(e,t,n){},33:function(e,t,n){e.exports=n(51)},43:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(28),o=n.n(i),c=n(1),l=n(2),s=n(4),u=n(3),m=n(7),p=n(6),h=n(29),d=n(30),v=n(13),f=r.a.createContext({favorites:[],ingredients:[],recipe:{},recipes:[],reviews:[],user:null,favoriteRecipes:function(){},updateFavorites:function(){},toggleFavorites:function(){},updateIngredients:function(){},updateRecipe:function(){},updateRecipes:function(){},findRecipe:function(e){},recipesForUser:function(e){},updateReviews:function(){},findReviews:function(e){},handleReviewSubmit:function(){},logIn:function(){},logOut:function(){}}),E=f,g=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={favorites:[],ingredients:[],recipe:{},recipes:[],reviews:[],user:null},e.updateFavorites=function(t){e.setState({favorites:t})},e.toggleFavorites=function(t,n){var a=e.state.favorites;if(a.find((function(e){return e.recipe_id===t}))){var r=a.filter((function(e){return e.recipe_id!==t}));e.setState({favorites:r})}else e.setState({favorites:[].concat(Object(v.a)(e.state.favorites),[n])})},e.updateIngredients=function(t){e.setState({ingredients:t})},e.updateRecipe=function(t){e.setState({recipe:t})},e.updateRecipes=function(t){e.setState({recipes:t})},e.updateReviews=function(t){e.setState({reviews:t})},e.handleReviewSubmit=function(t,n,a,r,i){var o=e.state.reviews;e.setState({reviews:o.concat({recipeId:a,userName:r,userId:i,headline:t,review:n})})},e.logIn=function(t){e.setState({user:t})},e.logOut=function(t){e.setState({user:null})},e}return Object(l.a)(n,[{key:"favoriteRecipes",value:function(){var e=this.state,t=e.recipes,n=e.userData;return t.filter((function(e){return n.userFavorites.includes(e.id)}))}},{key:"findRecipe",value:function(e){return this.state.recipes.find((function(t){return t.id===e}))}},{key:"recipesForUser",value:function(e){return this.state.recipes.filter((function(t){return t.user_id===e}))}},{key:"findReviews",value:function(e){return this.state.reviews.filter((function(t){return t.recipeId===e}))}},{key:"render",value:function(){var e=this,t={favorites:this.state.favorites,ingredients:this.state.ingredients,recipe:this.state.recipe,recipes:this.state.recipes,reviews:this.state.reviews,user:this.state.user,favoriteRecipes:function(){return e.favoriteRecipes()},updateFavorites:this.updateFavorites,toggleFavorites:this.toggleFavorites,updateIngredients:this.updateIngredients,updateRecipe:this.updateRecipe,updateRecipes:this.updateRecipes,findRecipe:function(t){return e.findRecipe(t)},recipesForUser:function(t){return e.recipesForUser(t)},updateReviews:this.updateReviews,findReviews:function(t){return e.findReviews(t)},handleReviewSubmit:this.handleReviewSubmit,logIn:this.logIn,logOut:this.logOut};return r.a.createElement(f.Provider,{value:t},this.props.children)}}]),n}(a.Component),b=(n(43),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).logOut=function(t){e.context.logOut()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.context.user;return r.a.createElement("nav",{className:"Header"},r.a.createElement("div",{className:"Header__Logo"},r.a.createElement("div",{className:"Icon"},r.a.createElement(h.a,{icon:d.a})),r.a.createElement("div",{className:"Title"},r.a.createElement("h1",null,r.a.createElement(p.Link,{to:"/"},"Smoothie.io")))),r.a.createElement("div",{className:"Header__Menu"},r.a.createElement("span",null,e?r.a.createElement(p.Link,{to:"/",onClick:this.logOut},"logout"):r.a.createElement(p.Link,{to:"/login"},"login")),r.a.createElement("span",null,r.a.createElement(p.Link,{to:"/home"},"smoothies")),r.a.createElement("span",null,r.a.createElement(p.Link,{to:"/create"},"create"))))}}]),n}(a.Component));b.contextType=E;var y=b,_=(n(18),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("header",{className:"LandingPage__Hero"},r.a.createElement("h1",null,"Create the perfect smoothie."),r.a.createElement("h2",null,"Smoothie.io gives you amazing smoothie recipes that you can completely customize. You can also build your own from scratch and share them with the world!"))}}]),n}(a.Component)),j=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("section",{className:"LandingPage__HowItWorks"},r.a.createElement("h3",null,"How it works"),r.a.createElement("div",{className:"LandingPage__HowItWorks__Box"},r.a.createElement("img",{src:"https://joyfoodsunshine.com/wp-content/uploads/2019/07/green-smoothie-recipe-2.jpg",alt:"delicious green smoothie surrounded by fruit and kale"}),r.a.createElement("ul",null,r.a.createElement("li",null,"Browse through the list of recipes submitted by our users"),r.a.createElement("br",null),r.a.createElement("li",null,'Choose to "favorite" it, review it, or customize it'),r.a.createElement("br",null),r.a.createElement("li",null,"You can also create a recipe from scratch"),r.a.createElement("br",null),r.a.createElement("li",null,"Once you've made the perfect recipe, publish it so others can enjoy it"))))}}]),n}(a.Component),w=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("section",{className:"LandingPage__GetStarted"},r.a.createElement("h3",null,"Get started"),r.a.createElement("div",{className:"LandingPage__GetStarted__Box"},r.a.createElement("h4",null,r.a.createElement(p.Link,{to:"/login"},"Login")),r.a.createElement("h4",null,r.a.createElement(p.Link,{to:"/home"},"Go to the app"))))}}]),n}(a.Component),O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"LandingPage"},r.a.createElement("main",{className:"LandingPage__Main"},r.a.createElement(_,null),r.a.createElement(j,null),r.a.createElement(w,null)))}}]),n}(a.Component),k=n(14);n(22);function N(e,t){return e!==t?"homeNotActive":"homeActive"}var x=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.context.user?this.context.user.id:0;return r.a.createElement("div",{className:"HomePage__HomeDisplay__Nav"},r.a.createElement("ul",null,0===e?r.a.createElement("li",null,r.a.createElement(p.Link,{to:"/home",className:N("all",this.props.section)},"All Recipes")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(p.Link,{to:"/home",className:N("all",this.props.section)},"All Recipes")),r.a.createElement("li",null,r.a.createElement(p.Link,{to:"/home/favorites",className:N("favorites",this.props.section)},"Favorites")),r.a.createElement("li",null,r.a.createElement(p.Link,{to:"/home/my-recipes",className:N("user",this.props.section)},"My Recipes")))))}}]),n}(a.Component);x.contextType=E;var R=x,S=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={numberOfSmoothies:6},e.loadMoreSmoothies=function(){var t=e.state.numberOfSmoothies;e.setState({numberOfSmoothies:t+=6})},e.loginReview=function(){alert("Please login to leave a review!")},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.recipes,n=this.state.numberOfSmoothies,a=this.context.user?this.context.user.id:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"HomePage__HomeDisplay"},r.a.createElement(R,{section:this.props.section}),r.a.createElement("div",{className:"HomePage__HomeDisplay__FlexBox"},t?t.map((function(t,i){if(i<n)return r.a.createElement("div",{className:"HomePage__HomeDisplay__FlexBox__Item",key:t.id},r.a.createElement(k.HashLink,{to:"/recipe/".concat(t.id)},t.smoothie_pic?r.a.createElement("img",{src:"".concat(t.smoothie_pic),alt:"a smoothie named ".concat(t.smoothie_name)}):r.a.createElement("img",{src:"https://i.ibb.co/VSS1v7M/smoothie-art-png-tiny.png",alt:"a smoothie named ".concat(t.smoothie_name)})),r.a.createElement("div",{className:"Item__Controls"},r.a.createElement("h3",{className:"CardTitle"},r.a.createElement(k.HashLink,{to:"/recipe/".concat(t.id)},t.smoothie_name)),r.a.createElement("button",{onClick:function(){return e.props.favorite(t.id)}},"favorite"),r.a.createElement("button",null,r.a.createElement(k.HashLink,{to:{pathname:"/create",prepopulate:!0,customId:"".concat(t.id)}},"customize")),0===a?r.a.createElement("button",{onClick:e.loginReview},"review"):r.a.createElement("button",null,r.a.createElement(k.HashLink,{to:{pathname:"/recipe/".concat(t.id,"#ReviewForm"),reviewOn:!0}},"review"))))})):r.a.createElement("h3",null,"getting recipes..."))),r.a.createElement("section",{className:"HomePage__BottomButtons"},r.a.createElement("div",{className:"HomePage__BottomButtons__FlexBox"},r.a.createElement("div",{className:"BottomButton__More"},r.a.createElement("button",{onClick:this.loadMoreSmoothies},"more smoothies")),r.a.createElement("div",{className:"BottomButton__Create"},r.a.createElement("button",null,r.a.createElement(k.HashLink,{to:"/create"},"create a smoothie"))))))}}]),n}(a.Component);S.contextType=E;var F=S,C="https://damp-forest-34882.herokuapp.com/api",I={getRecipes:function(){return fetch("".concat(C,"/recipes"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getRecipe:function(e){return fetch("".concat(C,"/recipes/").concat(e),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postRecipe:function(e,t,n,a){return fetch("".concat(C,"/users/recipes"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({smoothie_name:e,smoothie_pic:t,ingredients:n,user_id:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},P={getFavoritesforUser:function(e){return fetch("".concat(C,"/users/").concat(e,"/favorites"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postFavorites:function(e,t){return fetch("".concat(C,"/users/favorites"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_id:e,recipe_id:t})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},L=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleFavorite=function(t){var n=e.context.user?e.context.user.id:0;0===n?alert("Please login to add recipes to your favorites list!"):P.postFavorites(n,t).then((function(n){e.context.toggleFavorites(t,n.favorite)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context.user?this.context.user.id:0;Promise.all([I.getRecipes(),P.getFavoritesforUser(t)]).then((function(t){var n=t[0],a=t[1];e.context.updateRecipes(n),e.context.updateFavorites(a)}))}},{key:"render",value:function(){var e,t=this.context.user?this.context.user.id:0,n=this.props.section||"all";switch(n){case"favorites":e=this.context.favorites;break;case"user":e=this.context.recipesForUser(t);break;default:e=this.context.recipes}return r.a.createElement("div",{className:"HomePage"},r.a.createElement("main",{className:"HomePage__Main"},e?r.a.createElement(F,{recipes:e,section:n,favorite:this.handleFavorite}):r.a.createElement("div",{className:"Getting_Smoothies"},r.a.createElement("h3",null,"getting smoothies..."))))}}]),n}(a.Component);L.contextType=E;var B=L,A=n(32),T={getReviews:function(e){return fetch("".concat(C,"/recipes/").concat(e,"/reviews"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postReview:function(e,t,n,a){return fetch("".concat(C,"/users/reviews"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({headline:e,review:t,recipe_id:n,user_id:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},H=(n(15),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.recipe||{recipe:"loading"},t=e.user||{user_name:"loading"},n=e.smoothie||{smoothie:"loading",ingredients:["loading"]};return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("section",{className:"RecipePage__RecipeDisplay"},r.a.createElement("h1",null,n.smoothie_name),r.a.createElement("h3",null,"made by ",t.user_name),r.a.createElement("div",{className:"RecipePage__RecipeDisplay__FlexBox"},r.a.createElement("img",{src:n.smoothie_pic,alt:"delicious smoothie named ".concat(n.smoothie_name)}),r.a.createElement("div",{className:"RecipeBox"},r.a.createElement("h3",null,"Recipe"),r.a.createElement("ul",null,n.ingredients.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:e.title},e.quantity," ",e.units," ",e.title),r.a.createElement("br",null))})))))):r.a.createElement("div",null,r.a.createElement("h1",null,"loading...")))}}]),n}(a.Component)),D=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.recipe,n=void 0===t?{}:t;return r.a.createElement("section",{className:"RecipePage__BottomButtons"},r.a.createElement("div",{className:"RecipePage__BottomButtons__FlexBox"},"smoothie"in n?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.props.favorite(n.smoothie.recipe_id)}},"favorite"),r.a.createElement("button",null,r.a.createElement(p.Link,{to:{pathname:"/create",prepopulate:!0,customId:"".concat(n.smoothie.recipe_id)}},"customize")),r.a.createElement("button",{onClick:this.props.click},r.a.createElement(p.Link,{to:{pathname:"/recipe/".concat(n.smoothie.recipe_id,"#ReviewForm"),reviewOn:!0}},"review"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",null,"favorite"),r.a.createElement("button",null,"customize"),r.a.createElement("button",null,"review"))))}}]),n}(a.Component);D.contextType=E;var M=D,q=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleReviewSubmit=function(e){e.preventDefault();var t=e.target.headline.value,n=e.target.review.value,r=a.props.recipe.smoothie.recipe_id,i=a.props.recipe.user.user_id;T.postReview(t,n,r,i),a.handleSubmitTernary()},a.handleSubmitTernary=function(e){var t=a.state.showThanks;a.setState({showThanks:!t})},a.state={showThanks:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.showThanks;return r.a.createElement("section",{className:"RecipePage__ReviewForm",id:"ReviewForm"},e?r.a.createElement("div",{className:"TernaryBox"},r.a.createElement("h3",null,"Thanks!"),r.a.createElement("h5",null,"We appriciate your review.")):r.a.createElement("form",{onSubmit:this.handleReviewSubmit},r.a.createElement("label",{htmlFor:"headline"},"Add a headline"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"What's most important to know?",size:"33",name:"headline",id:"headline",required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"review"},"Write your review"),r.a.createElement("br",null),r.a.createElement("textarea",{placeholder:'Was this smoothie "yay" or "nay"? Why?',rows:"10",cols:"50",name:"review",id:"review",required:!0}),r.a.createElement("br",null),r.a.createElement("button",null,"submit")))}}]),n}(a.Component);q.contextType=E;var U=q,z=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.reviews||[{headline:"loading",review:"loading",user_pic:"loading",user_name:"loading"}];return r.a.createElement("section",{className:"RecipePage__ReviewsBox"},r.a.createElement("h3",null,"Reviews"),0===e.length?r.a.createElement("div",{className:"TernaryBox"},r.a.createElement("h3",null,"No reviews yet"),r.a.createElement("h5",null,"Be the first to leave a review!"),r.a.createElement("button",{onClick:this.props.click},"review")):e.map((function(e){return r.a.createElement("div",{className:"IndividualReviewBox",key:e.headline},r.a.createElement("div",{className:"IndividualReviewBox__User"},r.a.createElement("img",{src:e.user_pic,alt:"avatar for ".concat(e.user_name)}),r.a.createElement("span",null,e.user_name)),r.a.createElement("div",{className:"IndividualReviewBox__Review"},r.a.createElement("h4",null,'"',e.headline,'"'),r.a.createElement("span",null,'"',e.review,'"')))})))}}]),n}(a.Component),W=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleFavorite=function(e){var t=a.context.user?a.context.user.id:0;0===t?alert("Please login to add recipes to your favorites list!"):P.postFavorites(e,t).then((function(e){console.log(e)}))},a.handleReviewButtonClick=function(e){if(0===(a.context.user?a.context.user.id:0))alert("Please login to leave a review!");else{var t=a.state.showForm;a.setState({showForm:!t})}},a.state={showForm:!(!a.props.location||!a.props.location.reviewOn)&&a.props.location.reviewOn},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props&&this.props.match&&this.props.match.params.recipeId.split("#")?this.props.match.params.recipeId.split("#"):[0],n=Object(A.a)(t,1)[0];Promise.all([I.getRecipe(n),T.getReviews(n)]).then((function(t){var n=t[0],a=t[1];e.context.updateRecipe(n),e.context.updateReviews(a)}))}},{key:"render",value:function(){var e=this.context.recipe,t=this.context.reviews;return r.a.createElement("div",{className:"RecipePage"},r.a.createElement("main",{className:"RecipePage__Main"},r.a.createElement(H,{recipe:e}),r.a.createElement(M,{recipe:e,click:this.handleReviewButtonClick,favorite:this.handleFavorite}),this.state.showForm&&r.a.createElement(U,{recipe:e}),r.a.createElement(z,{reviews:t,click:this.handleReviewButtonClick})))}}]),n}(a.Component);W.contextType=E;var J=W,G=(n(19),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleRecipeSubmit=function(e){if(e.preventDefault(),0===(a.context.user?a.context.user.id:0))alert("Please login to publish your recipe!");else{var t=e.target.title.value,n=a.context.user.id,r=a.props.recipeArray;if(0===r.length)alert("Please add at least one ingredient before publishing!");else if(t){var i=r.map((function(e){return delete e.title,e}));I.postRecipe(t,"https://i.ibb.co/VSS1v7M/smoothie-art-png-tiny.png",i,n),a.setState({thanks:!0})}else alert("Please name your smoothie before publishing!")}},a.state={prepopulate:!!a.props.location.prepopulate&&a.props.location.prepopulate,thanks:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.location.prepopulate,n=this.props.recipe,a=this.props.recipeArray||[];return r.a.createElement(r.a.Fragment,null,this.state.thanks?r.a.createElement("div",{className:"thanksBox"},r.a.createElement("h2",null,"Thank you!"),r.a.createElement("h3",null,"We got your submission : )"),r.a.createElement("h4",null,r.a.createElement(p.Link,{to:"/home"},"Head back to all smoothies"))):r.a.createElement("form",{onSubmit:this.handleRecipeSubmit,className:"RecipeForm"},r.a.createElement("div",{className:"RecipeTitle"},r.a.createElement("label",{htmlFor:"title"}),t?r.a.createElement("input",{type:"text",placeholder:n?n.smoothie_name:"Loading..",name:"title",id:"title",required:!0}):r.a.createElement("input",{type:"text",placeholder:"My Awesome Smoothie",name:"title",id:"title",required:!0}),r.a.createElement("br",null),"Name your smoothie!"),r.a.createElement("br",null),r.a.createElement("div",{className:"Recipe__Box"},0===a.length?r.a.createElement("div",{className:"Recipe__Item"},r.a.createElement("h3",null,"Add ingredients below to start making your recipe.")):a.map((function(t){return r.a.createElement("div",{className:"Recipe__Item",key:t.id},r.a.createElement("h3",null,t.quantity," ",t.units," ",t.title),r.a.createElement("button",{onClick:function(n){return e.props.deleteRecipeLine(n,t)}},"x"))}))),r.a.createElement("div",{className:"Buttons__Box"},r.a.createElement("button",{type:"submit"},"publish"))))}}]),n}(a.Component));G.contextType=E;var V=Object(m.o)(G),Y={getIngredients:function(){return fetch("".concat(C,"/ingredients"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postIngredient:function(e,t){return fetch("".concat(C,"/ingredients"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({title:e,category:t})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},K=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleAddRecipeItem=function(e){e.preventDefault();var t=e.target.title.value,n={ingredient_id:e.target.ingredient_id.value,title:t,quantity:e.target.quantity.value,units:e.target.units.value};a.props.recipeLineDisplay(n)},a.state={openCategory:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;Y.getIngredients().then((function(t){e.context.updateIngredients(t)}))}},{key:"changeAccordion",value:function(e,t){e.preventDefault(),t===this.state.openCategory?this.setState({openCategory:null}):this.setState({openCategory:t})}},{key:"render",value:function(){var e=this,t=this.state.openCategory,n=this.context.ingredients,a=Object(v.a)(new Set(n.map((function(e){return e.category}))));return r.a.createElement("div",{className:"Ingredients__Box"},r.a.createElement("h3",null,"Pick your ingreditents"),r.a.createElement("div",{className:"Ingredients__List"},a.map((function(a){return r.a.createElement("div",{className:"Ingredients__Category",key:a},r.a.createElement("button",{onClick:function(t){return e.changeAccordion(t,a)}},a),a===t&&function(e){return n.filter((function(t){return t.category===e}))}(a).map((function(t){return r.a.createElement("div",{className:"Ingredients__Item",key:t.id},r.a.createElement("form",{className:"accordionForm",onSubmit:e.handleAddRecipeItem},r.a.createElement("span",null,t.title),r.a.createElement("input",{type:"hidden",name:"ingredient_id",id:"ingredient_id",value:t.id}),r.a.createElement("input",{type:"hidden",name:"title",id:"title",value:t.title}),r.a.createElement("input",{name:"quantity",id:"quantity",type:"text",placeholder:"quantity",size:"7",required:!0}),r.a.createElement("input",{name:"units",id:"units",type:"text",placeholder:"units",size:"4"}),r.a.createElement("button",{className:"add"},"add")))})))}))))}}]),n}(a.Component);K.contextType=E;var Q=K,X=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleAddNewItem=function(e){e.preventDefault();var t=e.target.newItemCategory.value,n=e.target.newItemTitle.value;Y.postIngredient(n,t),a.setState({ingredientSubmitted:!0})},a.addAnother=function(e){e.preventDefault(),a.setState({ingredientSubmitted:!1})},a.state={ingredientSubmitted:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.context.ingredients,t=Object(v.a)(new Set(e.map((function(e){return e.category}))));return r.a.createElement(r.a.Fragment,null,this.state.ingredientSubmitted?r.a.createElement("div",null,r.a.createElement("h1",null,"Thanks!"),r.a.createElement("h3",null,"We got your submission : )"),r.a.createElement("button",{onClick:this.addAnother},"add another")):r.a.createElement("form",{className:"newIngredientForm",onSubmit:this.handleAddNewItem},r.a.createElement("label",null,"Category:"),r.a.createElement("select",{name:"newItemCategory"},t.map((function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{name:"newItemTitle",type:"text",placeholder:"ie: starfuit"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",null,"add")))}}]),n}(a.Component);X.contextType=E;var Z=X,$=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).showNewItemForm=function(e){if(0===(a.context.user?a.context.user.id:0))alert("Please login to add new new ingredients to our database!");else{var t=a.state.showForm;a.setState({showForm:!t})}},a.recipeLineDisplay=function(e){var t=a.state.recipeArray.concat(e);a.setState({recipeArray:t})},a.deleteRecipeLine=function(e,t){e.preventDefault(),a.setState({recipeArray:a.state.recipeArray.filter((function(e){return e!==t}))})},a.state={recipe:{},recipeArray:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.customId;t&&I.getRecipe(t).then((function(t){e.context.updateRecipe(t),e.setState({recipe:t.smoothie}),e.setState({recipeArray:t.smoothie.ingredients})}))}},{key:"render",value:function(){var e=this.state.recipe,t=this.state.recipeArray;return r.a.createElement("div",{className:"CreatePage"},r.a.createElement("main",{className:"CreatePage__Main"},r.a.createElement("div",{className:"CreatePage__Main__FlexBox"},r.a.createElement(V,{recipe:e,recipeArray:t,deleteRecipeLine:this.deleteRecipeLine,recipeLineDisplay:this.recipeLineDisplay}),r.a.createElement(Q,{recipeLineDisplay:this.recipeLineDisplay}),r.a.createElement("div",{className:"Ingredients__AddNew"},r.a.createElement("h5",null,"Can't find your favorite ingredient? Click below to add it to our database!"),r.a.createElement("button",{onClick:this.showNewItemForm},"New Ingredient"),r.a.createElement("br",null),r.a.createElement("br",null),this.state.showForm&&r.a.createElement(Z,null)))))}}]),n}(a.Component);$.contextType=E;var ee=Object(m.o)($),te=(n(46),{getUsers:function(){return fetch("".concat(C,"/users"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}}),ne=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onLogin=function(e){e.preventDefault();var t=e.target.user_name.value,n=e.target.password.value;a.setState({clickedLogIn:!0}),te.getUsers().then((function(e){var r=e.filter((function(e){return e.user_name===t&&e.password===n}))[0];r?(a.context.logIn(r),a.props.history.push("/home")):alert("incorrect username or password")}))},a.state={clickedLogIn:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"LoginPage"},r.a.createElement("main",{className:"LoginPage__Main"},this.props.clickedLogIn?r.a.createElement("div",{className:"Logging_In"},r.a.createElement("h3",null,"logging in...")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.onLogin},r.a.createElement("label",{htmlFor:"username"},"username"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"user_name",id:"user_name",required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",id:"password",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",null,"submit")))))}}]),n}(a.Component);ne.contextType=E;var ae=ne,re=(n(47),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"NotFoundPage"},r.a.createElement("main",{className:"NotFoundPage__Main"},r.a.createElement("h1",null,"404 Not Found"),r.a.createElement("h3",null,"Sorry, this page doesn't exist!"),r.a.createElement("button",null,r.a.createElement(p.Link,{to:"/home"},"home"))))}}]),n}(a.Component)),ie=(n(48),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("nav",{className:"Footer"},r.a.createElement("div",{className:"Footer__Menu"},r.a.createElement("span",null,"\xa9 Smoothie.io 2020. All rights reserved.")))}}]),n}(a.Component)),oe=(n(49),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App__Header"},r.a.createElement(y,null)),r.a.createElement("main",{className:"App__Main"},r.a.createElement(m.g,null,r.a.createElement(m.d,{exact:!0,path:"/",component:O}),r.a.createElement(m.d,{exact:!0,path:"/home",component:B}),r.a.createElement(m.d,{exact:!0,path:"/home/favorites",render:function(){return r.a.createElement(B,{section:"favorites"})}}),r.a.createElement(m.d,{exact:!0,path:"/home/my-recipes",render:function(){return r.a.createElement(B,{section:"user"})}}),r.a.createElement(m.d,{path:"/recipe/:recipeId",component:J}),r.a.createElement(m.d,{path:"/create",component:ee}),r.a.createElement(m.d,{path:"/login",component:ae}),r.a.createElement(m.d,{component:re}))),r.a.createElement(ie,null))}}]),n}(a.Component));n(50);o.a.render(r.a.createElement(p.BrowserRouter,{basename:"/smoothie.io"},r.a.createElement(g,null,r.a.createElement(oe,null))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.759f73ac.chunk.js.map